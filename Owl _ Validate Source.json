{"paragraphs":[{"title":"File Example","text":"import spark.implicits._\nimport com.owl.core._\n\nval src = Seq(\n  (\"abc\", 72, true, 55.5, \"2018-02-23 08:30:02\"),\n  (\"def\", 72, true, 55.5, \"2018-02-23 08:30:02\"),\n  (\"xyz\", 72, true, 55.5, \"2018-02-23 08:30:02\")\n).toDF(\"name\", \"temp\", \"sunny\", \"price\", \"d_date\")\n\nval target = Seq(\n  (\"abc\", 72, false, 55.5, \"2018-02-23 08:30:02\"),  // true  -> false\n  (\"def\", 72, true, 55.567, \"2018-02-23 08:30:02\"), // 55.5  -> 55.567\n  (\"xyz\", 72, true, 55.5, \"2018-02-23 09:30:02\")    // 08:30 -> 09:30\n).toDF(\"name\", \"temp\",\"sunny\", \"price\", \"d_date\")\n\nval propsF = new com.owl.common.Props()\npropsF.dataset = \"target\"\npropsF.runId = \"2017-02-04\"\npropsF.key = \"name\"\npropsF.validateSrc = true\npropsF.datasetSrc = \"source\"\n\nval owl = new Owl(target, propsF)\nowl.profileDF.createOrReplaceTempView(\"p1\")\nowl.validateSrcDF(src).createOrReplaceTempView(\"v1\")","user":"anonymous","dateUpdated":"2018-07-16T16:16:31-0400","config":{"colWidth":5,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala","tableHide":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import spark.implicits._\nimport com.owl.core._\nsrc: org.apache.spark.sql.DataFrame = [name: string, temp: int ... 3 more fields]\ntarget: org.apache.spark.sql.DataFrame = [name: string, temp: int ... 3 more fields]\npropsF: com.owl.common.Props = com.owl.common.Props@5288f1c2\npropsF.dataset: String = target\npropsF.runId: String = 2017-02-04\npropsF.key: String = name\npropsF.validateSrc: Boolean = true\npropsF.datasetSrc: String = source\nowl: com.owl.core.Owl = com.owl.core.Owl@4f89cd5e\nroot\n |-- name: string (nullable = true)\n |-- temp: integer (nullable = false)\n |-- sunny: boolean (nullable = false)\n |-- price: double (nullable = false)\n |-- d_date: string (nullable = true)\n\n+----+----+-----+------+-------------------+------+\n|name|temp|sunny| price|             d_date|owl_id|\n+----+----+-----+------+-------------------+------+\n| abc|  72|false|  55.5|2018-02-23 08:30:02|     1|\n| def|  72| true|55.567|2018-02-23 08:30:02|     2|\n| xyz|  72| true|  55.5|2018-02-23 09:30:02|     3|\n+----+----+-----+------+-------------------+------+\n\nroot\n |-- name: integer (nullable = true)\n |-- temp: integer (nullable = true)\n |-- sunny: integer (nullable = true)\n |-- price: integer (nullable = true)\n |-- d_date: integer (nullable = true)\n |-- owl_id: long (nullable = true)\n\n(sunny_BOOLEAN,3)\n(rc,3)\n(temp_INT,3)\n(price_DOUBLE,3)\n(owl_id_LONG,3)\n(d_date_STRING,3)\n(name_STRING,3)\nroot\n |-- name: string (nullable = true)\n |-- temp: integer (nullable = false)\n |-- sunny: boolean (nullable = false)\n |-- price: double (nullable = false)\n |-- d_date: string (nullable = true)\n\n+----+----+-----+------+-------------------+------+\n|name|temp|sunny| price|             d_date|owl_id|\n+----+----+-----+------+-------------------+------+\n| abc|  72|false|  55.5|2018-02-23 08:30:02|     1|\n| def|  72| true|55.567|2018-02-23 08:30:02|     2|\n| xyz|  72| true|  55.5|2018-02-23 09:30:02|     3|\n+----+----+-----+------+-------------------+------+\n\nroot\n |-- name: integer (nullable = true)\n |-- temp: integer (nullable = true)\n |-- sunny: integer (nullable = true)\n |-- price: integer (nullable = true)\n |-- d_date: integer (nullable = true)\n |-- owl_id: long (nullable = true)\n\n(sunny_BOOLEAN,3)\n(rc,3)\n(temp_INT,3)\n(price_DOUBLE,3)\n(owl_id_LONG,3)\n(d_date_STRING,3)\n(name_STRING,3)\n"}]},"apps":[],"jobName":"paragraph_1528983535946_498574109","id":"20180614-093855_389330225","dateCreated":"2018-06-14T09:38:55-0400","dateStarted":"2018-07-16T16:16:31-0400","dateFinished":"2018-07-16T16:16:38-0400","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:21679"},{"title":"MisMatch","text":"%sql select * from v1","user":"anonymous","dateUpdated":"2018-07-16T16:16:31-0400","config":{"colWidth":7,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":318,"optionOpen":false}}},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"name\tkey\tvalue\tverbose\tperChange\tscore\nsunny\tabc \t1.0\tRow [name = abc ] has col [sunny] which does not match source [true, false]\t1.0\t0\nd_date\txyz \t1.0\tRow [name = xyz ] has col [d_date] which does not match source [2018-02-23 08:30:02, 2018-02-23 09:30:02]\t1.0\t0\nprice\tdef \t1.0\tRow [name = def ] has col [price] which does not match source [55.5, 55.567]\t1.0\t0\n"}]},"apps":[],"jobName":"paragraph_1529605288777_-962201723","id":"20180621-142128_1925038790","dateCreated":"2018-06-21T14:21:28-0400","dateStarted":"2018-07-16T16:16:31-0400","dateFinished":"2018-07-16T16:16:38-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:21680"},{"title":"Database Example","text":"import com.owl.core.activity._\nimport com.owl.common._\n\nval props = new com.owl.common.Props()\nprops.userName = \"datalakeadmin\"\nprops.password = \"datalakepassword\"\nprops.connectionURL = \"jdbc:mysql://owldatalake.chzid9w0hpyi.us-east-1.rds.amazonaws.com:3306\"\nprops.sqlQuery = \"select * from silo.account where acc_upd_ts = '2017-02-02 00:00:00' limit 90 \"\nprops.dataset = \"lake.testTarget\"\nprops.runId = \"2017-02-04\"\nprops.key = \"id,acc_num,acc_name\"\n\nprops.validateSrc = true\nprops.userNameSrc = \"datalakeadmin\"\nprops.passwordSrc = \"datalakepassword\"\nprops.connectionURLSrc = \"jdbc:mysql://owldatalake.chzid9w0hpyi.us-east-1.rds.amazonaws.com:3306\"\nprops.sqlQuerySrc = \"select * from silo.account where acc_upd_ts = '2017-02-02 00:00:00' limit 100 \"\nprops.datasetSrc = \"silo.testSrc\"\n//props.validateValues=true\n\nval spark = com.owl.core.util.Util.createSparkSession(props)\nval df = new Load().execute(props, spark)\n\nval profDF = new Owl(df).profileDF\nprofDF.createOrReplaceTempView(\"profile\")\nval valDF = new Owl(df, props).validateSrcDF()\nvalDF.createOrReplaceTempView(\"val\")","user":"anonymous","dateUpdated":"2018-07-16T16:16:31-0400","config":{"colWidth":6,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","tableHide":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import com.owl.core.activity._\nimport com.owl.common._\nprops: com.owl.common.Props = com.owl.common.Props@4617f94f\nprops.userName: String = datalakeadmin\nprops.password: String = datalakepassword\nprops.connectionURL: String = jdbc:mysql://owldatalake.chzid9w0hpyi.us-east-1.rds.amazonaws.com:3306\nprops.sqlQuery: String = select * from silo.account where acc_upd_ts = '2017-02-02 00:00:00' limit 90\nprops.dataset: String = lake.testTarget\nprops.runId: String = 2017-02-04\nprops.key: String = id,acc_num,acc_name\nprops.validateSrc: Boolean = true\nprops.userNameSrc: String = datalakeadmin\nprops.passwordSrc: String = datalakepassword\nprops.connectionURLSrc: String = jdbc:mysql://owldatalake.chzid9w0hpyi.us-east-1.rds.amazonaws.com:3306\nprops.sqlQuerySrc: String = select * from silo.account where acc_upd_ts = '2017-02-02 00:00:00' limit 100\nprops.datasetSrc: String = silo.testSrc\nspark: org.apache.spark.sql.SparkSession = org.apache.spark.sql.SparkSession@b6c5149\ndf: org.apache.spark.sql.DataFrame = [id: int, acc_name: string ... 8 more fields]\nroot\n |-- id: integer (nullable = false)\n |-- acc_name: string (nullable = true)\n |-- acc_num: string (nullable = true)\n |-- acc_branch: integer (nullable = true)\n |-- ssn: integer (nullable = true)\n |-- acc_balance: double (nullable = true)\n |-- networth: integer (nullable = true)\n |-- acc_open_dt: date (nullable = true)\n |-- acc_close_dt: date (nullable = true)\n |-- acc_upd_ts: timestamp (nullable = true)\n\n+-------+-------------------+-------+----------+---------+-----------+--------+-----------+------------+--------------------+------+\n|     id|           acc_name|acc_num|acc_branch|      ssn|acc_balance|networth|acc_open_dt|acc_close_dt|          acc_upd_ts|owl_id|\n+-------+-------------------+-------+----------+---------+-----------+--------+-----------+------------+--------------------+------+\n|2686058|                ABC|   05W0|         7|333224444|   70034.55|      27| 1969-12-31|        null|2017-02-02 00:00:...|     1|\n|2686059|                ABC|   05W1|         5|333224444|      27.52|      27| 1969-12-31|        null|2017-02-02 00:00:...|     2|\n|2686060|                ABC|   05W2|         2|333224444|      27.52|  900004| 1969-12-31|        null|2017-02-02 00:00:...|     3|\n|2686061|                   |   05W3|         5|333224444|   200000.0|      27| 1969-12-31|        null|2017-02-02 00:00:...|     4|\n|2686062|           Haslbeck|   05W4|         7|333224444|  125012.56|  900004|       null|  1969-12-31|2017-02-02 00:00:...|     5|\n|2686063|                ABC|   05W5|        12|333224444|   70034.55|  900004| 1969-12-31|        null|2017-02-02 00:00:...|     6|\n|2686064|                ABC|   05W6|        19|333224444|  900004.33|  125012|       null|        null|2017-02-02 00:00:...|     7|\n|2686065|               null|   05W7|         2|333224444|  900004.33|      27| 1969-12-31|        null|2017-02-02 00:00:...|     8|\n|2686066|McGloclin and Assoc|   05W8|         2|333224444|   200000.0|  900004| 1969-12-31|        null|2017-02-02 00:00:...|     9|\n|2686067|           Haslbeck|   05W9|         2|333224444|  125012.56|  200000| 1969-12-31|        null|2017-02-02 00:00:...|    10|\n|2686068|           Haslbeck|   05W0|         7|333224444|  125012.56|  125012|       null|        null|2017-02-02 00:00:...|    11|\n|2686069|               null|   05W1|        19|333224444|   200000.0|  900004| 1969-12-31|        null|2017-02-02 00:00:...|    12|\n|2686070|McGloclin and Assoc|   05W2|        19|333224444|  125012.56|  200000| 1969-12-31|        null|2017-02-02 00:00:...|    13|\n|2686071|               null|   05W3|        20|333224444|   70034.55|  125012|       null|  1969-12-31|2017-02-02 00:00:...|    14|\n|2686072|               Ulam|   05W4|         0|333224444|      27.52|   70034| 1969-12-31|        null|2017-02-02 00:00:...|    15|\n|2686073|           Haslbeck|   05W5|         0|333224444|   70034.55|  900004|       null|        null|2017-02-02 00:00:...|    16|\n|2686074|                ABC|   05W6|        12|333224444|   70034.55|  900004|       null|        null|2017-02-02 00:00:...|    17|\n|2686075|                ABC|   05W7|        19|333224444|   70034.55|  125012| 1969-12-31|  1969-12-31|2017-02-02 00:00:...|    18|\n|2686076|               Ulam|   05W8|         7|333224444|      27.52|  200000| 1969-12-31|  1969-12-31|2017-02-02 00:00:...|    19|\n|2686077|                   |   05W9|         7|333224444|   70034.55|  125012| 1969-12-31|        null|2017-02-02 00:00:...|    20|\n+-------+-------------------+-------+----------+---------+-----------+--------+-----------+------------+--------------------+------+\nonly showing top 20 rows\n\nroot\n |-- id: integer (nullable = true)\n |-- acc_name: integer (nullable = true)\n |-- acc_num: integer (nullable = true)\n |-- acc_branch: integer (nullable = true)\n |-- ssn: integer (nullable = true)\n |-- acc_balance: integer (nullable = true)\n |-- networth: integer (nullable = true)\n |-- acc_open_dt: integer (nullable = true)\n |-- acc_close_dt: integer (nullable = true)\n |-- acc_upd_ts: integer (nullable = true)\n |-- owl_id: long (nullable = true)\n\n(acc_open_dt_DATE,67)\n(id_INT,90)\n(networth_INT,90)\n(acc_branch_INT,90)\n(ssn_INT,90)\n(rc,90)\n(acc_name_ECNT,9)\n(acc_upd_ts_DATE,90)\n(acc_open_dt_NCNT,23)\n(acc_close_dt_DATE,14)\n(acc_balance_DOUBLE,90)\n(acc_num_STRING,90)\n(owl_id_LONG,90)\n(acc_name_NCNT,9)\n(acc_name_STRING,72)\n(acc_close_dt_NCNT,76)\nprofDF: org.apache.spark.sql.DataFrame = [column: string, nulls: bigint ... 10 more fields]\nroot\n |-- id: integer (nullable = false)\n |-- acc_name: string (nullable = true)\n |-- acc_num: string (nullable = true)\n |-- acc_branch: integer (nullable = true)\n |-- ssn: integer (nullable = true)\n |-- acc_balance: double (nullable = true)\n |-- networth: integer (nullable = true)\n |-- acc_open_dt: date (nullable = true)\n |-- acc_close_dt: date (nullable = true)\n |-- acc_upd_ts: timestamp (nullable = true)\n\n+-------+-------------------+-------+----------+---------+-----------+--------+-----------+------------+--------------------+------+\n|     id|           acc_name|acc_num|acc_branch|      ssn|acc_balance|networth|acc_open_dt|acc_close_dt|          acc_upd_ts|owl_id|\n+-------+-------------------+-------+----------+---------+-----------+--------+-----------+------------+--------------------+------+\n|2686058|                ABC|   05W0|         7|333224444|   70034.55|      27| 1969-12-31|        null|2017-02-02 00:00:...|     1|\n|2686059|                ABC|   05W1|         5|333224444|      27.52|      27| 1969-12-31|        null|2017-02-02 00:00:...|     2|\n|2686060|                ABC|   05W2|         2|333224444|      27.52|  900004| 1969-12-31|        null|2017-02-02 00:00:...|     3|\n|2686061|                   |   05W3|         5|333224444|   200000.0|      27| 1969-12-31|        null|2017-02-02 00:00:...|     4|\n|2686062|           Haslbeck|   05W4|         7|333224444|  125012.56|  900004|       null|  1969-12-31|2017-02-02 00:00:...|     5|\n|2686063|                ABC|   05W5|        12|333224444|   70034.55|  900004| 1969-12-31|        null|2017-02-02 00:00:...|     6|\n|2686064|                ABC|   05W6|        19|333224444|  900004.33|  125012|       null|        null|2017-02-02 00:00:...|     7|\n|2686065|               null|   05W7|         2|333224444|  900004.33|      27| 1969-12-31|        null|2017-02-02 00:00:...|     8|\n|2686066|McGloclin and Assoc|   05W8|         2|333224444|   200000.0|  900004| 1969-12-31|        null|2017-02-02 00:00:...|     9|\n|2686067|           Haslbeck|   05W9|         2|333224444|  125012.56|  200000| 1969-12-31|        null|2017-02-02 00:00:...|    10|\n|2686068|           Haslbeck|   05W0|         7|333224444|  125012.56|  125012|       null|        null|2017-02-02 00:00:...|    11|\n|2686069|               null|   05W1|        19|333224444|   200000.0|  900004| 1969-12-31|        null|2017-02-02 00:00:...|    12|\n|2686070|McGloclin and Assoc|   05W2|        19|333224444|  125012.56|  200000| 1969-12-31|        null|2017-02-02 00:00:...|    13|\n|2686071|               null|   05W3|        20|333224444|   70034.55|  125012|       null|  1969-12-31|2017-02-02 00:00:...|    14|\n|2686072|               Ulam|   05W4|         0|333224444|      27.52|   70034| 1969-12-31|        null|2017-02-02 00:00:...|    15|\n|2686073|           Haslbeck|   05W5|         0|333224444|   70034.55|  900004|       null|        null|2017-02-02 00:00:...|    16|\n|2686074|                ABC|   05W6|        12|333224444|   70034.55|  900004|       null|        null|2017-02-02 00:00:...|    17|\n|2686075|                ABC|   05W7|        19|333224444|   70034.55|  125012| 1969-12-31|  1969-12-31|2017-02-02 00:00:...|    18|\n|2686076|               Ulam|   05W8|         7|333224444|      27.52|  200000| 1969-12-31|  1969-12-31|2017-02-02 00:00:...|    19|\n|2686077|                   |   05W9|         7|333224444|   70034.55|  125012| 1969-12-31|        null|2017-02-02 00:00:...|    20|\n+-------+-------------------+-------+----------+---------+-----------+--------+-----------+------------+--------------------+------+\nonly showing top 20 rows\n\nroot\n |-- id: integer (nullable = true)\n |-- acc_name: integer (nullable = true)\n |-- acc_num: integer (nullable = true)\n |-- acc_branch: integer (nullable = true)\n |-- ssn: integer (nullable = true)\n |-- acc_balance: integer (nullable = true)\n |-- networth: integer (nullable = true)\n |-- acc_open_dt: integer (nullable = true)\n |-- acc_close_dt: integer (nullable = true)\n |-- acc_upd_ts: integer (nullable = true)\n |-- owl_id: long (nullable = true)\n\n(acc_open_dt_DATE,67)\n(id_INT,90)\n(networth_INT,90)\n(acc_branch_INT,90)\n(ssn_INT,90)\n(rc,90)\n(acc_name_ECNT,9)\n(acc_upd_ts_DATE,90)\n(acc_open_dt_NCNT,23)\n(acc_close_dt_DATE,14)\n(acc_balance_DOUBLE,90)\n(acc_num_STRING,90)\n(owl_id_LONG,90)\n(acc_name_NCNT,9)\n(acc_name_STRING,72)\n(acc_close_dt_NCNT,76)\nvalDF: org.apache.spark.sql.DataFrame = [name: string, key: string ... 4 more fields]\n"}]},"apps":[],"jobName":"paragraph_1528983020648_414960480","id":"20180614-093020_1915819380","dateCreated":"2018-06-14T09:30:20-0400","dateStarted":"2018-07-16T16:16:38-0400","dateFinished":"2018-07-16T16:16:46-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:21681"},{"title":"MisMatch","text":"%sql\nselect * from val","user":"anonymous","dateUpdated":"2018-07-16T16:16:31-0400","config":{"colWidth":6,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":342,"optionOpen":false}}},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"name\tkey\tvalue\tverbose\tperChange\tscore\nrows\trows\t10.0\trow count from src to target doesn't match by 10 rows\t1.1111111111111112\t0\n"}]},"apps":[],"jobName":"paragraph_1528983036791_-1290231321","id":"20180614-093036_819317829","dateCreated":"2018-06-14T09:30:36-0400","dateStarted":"2018-07-16T16:16:39-0400","dateFinished":"2018-07-16T16:16:46-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:21682"},{"text":"%sql\nselect * from profile","user":"anonymous","dateUpdated":"2018-07-16T16:16:31-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"column\tnulls\tempties\tcardinality\tis_mixed\tmixed_ratio\tLong\tString\tBoolean\tDouble\tDate\tInt\nacc_name\t9\t9\t6\tfalse\t0.0\t0\t72\t0\t0\t0\t0\nacc_balance\t0\t0\t5\tfalse\t0.0\t0\t0\t0\t90\t0\t0\nacc_num\t0\t0\t10\tfalse\t0.0\t0\t90\t0\t0\t0\t0\nnetworth\t0\t0\t6\tfalse\t0.0\t0\t0\t0\t0\t0\t90\nacc_close_dt\t76\t0\t1\tfalse\t0.0\t0\t0\t0\t0\t14\t0\nid\t0\t0\t85\tfalse\t0.0\t0\t0\t0\t0\t0\t90\nacc_upd_ts\t0\t0\t1\tfalse\t0.0\t0\t0\t0\t0\t90\t0\nacc_open_dt\t23\t0\t1\tfalse\t0.0\t0\t0\t0\t0\t67\t0\nacc_branch\t0\t0\t7\tfalse\t0.0\t0\t0\t0\t0\t0\t90\nssn\t0\t0\t1\tfalse\t0.0\t0\t0\t0\t0\t0\t90\nowl_id\t0\t0\t92\tfalse\t0.0\t90\t0\t0\t0\t0\t0\n"}]},"apps":[],"jobName":"paragraph_1528983395187_1341376703","id":"20180614-093635_1304915506","dateCreated":"2018-06-14T09:36:35-0400","dateStarted":"2018-07-16T16:16:46-0400","dateFinished":"2018-07-16T16:16:46-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:21683"},{"text":"%sql\n","user":"anonymous","dateUpdated":"2018-07-16T16:16:31-0400","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1529607380724_-1187876948","id":"20180621-145620_1518196657","dateCreated":"2018-06-21T14:56:20-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:21684"}],"name":"Owl / Validate Source","id":"2DHYPBH8U","angularObjects":{"2DFW5AMX7:shared_process":[],"2DG2GK25N:shared_process":[],"2DGRFFZMA:shared_process":[],"2DERM7RYU:shared_process":[],"2DFFH5QGT:shared_process":[],"2DF2PH329:shared_process":[],"2DF55VSFN:shared_process":[],"2DH2XWUQA:shared_process":[],"2DGHUQGA8:shared_process":[],"2DH9U1ABT:shared_process":[],"2DDPWP28H:shared_process":[],"2DEK5Z276:shared_process":[],"2DDTZ2MKK:shared_process":[],"2DGZQPS75:shared_process":[],"2DF6DQ2V6:shared_process":[],"2DDPQKAK4:shared_process":[],"2DDTQYJ7P:shared_process":[],"2DGCHXAN1:shared_process":[],"2DFDNF2GQ:shared_process":[],"2DHD7TD9C:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}